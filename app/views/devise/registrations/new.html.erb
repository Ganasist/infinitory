<span class="text-center">
	<h2>Registration</h2>
</span>
<br>

<%= simple_form_for(resource, :as => resource_name, :url => registration_path(resource_name),
                              :html => { :class => 'form-inline'} ) do |f| %>
  <%= f.error_notification %>

  <div class="form-inputs">
    
    <%= f.collection_select :role, User::ROLES, :to_s, :humanize, prompt: "Choose your position" %>
    <br>
    <br>
      <%= f.input :email, label: "Email address",
      							placeholder: "Institutional addresses only",
                    input_html: { style: 'width: 350px', class: "js-email" } %>

    <span class="GLform hidden">
      <%= f.input :institute_name, placeholder: "Find or create your institute",
                                   typeahead: Institute.all.pluck(:name),
                                   input_html: { style: 'width: 350px',
                                   data: { autocomplete_source: institutes_path }} %>
    </span>

    <span class="LMform hidden">
      <%= f.input :lab_email, as: :email, label: "Group leader's email address", 
                              typeahead: User.where(role: "group_leader").pluck(:email),
                              placeholder: "Link your account to your lab",
                              input_html: { style: 'width: 350px' },
                              tooltip: ['top', 'Your group leader must create an account first'] %>
    </span>

      <%= f.input :password, input_html: { style: 'width: 350px', class: "js-password" } %>
      <%= f.input :password_confirmation, input_html: { style: 'width: 330px', class: "js-password-confirmation" } %>
  </div>

  <div class="form-actions">
    <%= f.button :submit, "Sign up" %>
  </div>
<% end %>

<%= render "devise/shared/links" %>
